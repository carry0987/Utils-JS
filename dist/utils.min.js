!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Utils=t()}(this,(function(){"use strict";class e{constructor(e){Object.assign(this,e)}static version="2.1.7";static stylesheetId="utils-style";static replaceRule={from:".utils",to:".utils-"};static setStylesheetId(t){e.stylesheetId=t}static setReplaceRule(t,r){e.replaceRule.from=t,e.replaceRule.to=r}static getElem(e,t,r){return"object"==typeof e?e:void 0===t&&void 0===r?isNaN(Number(e))?document.querySelector(e):document.getElementById(e):"all"===t||null===t?void 0===r?document.querySelectorAll(e):r.querySelectorAll(e):"object"==typeof t&&void 0===r?t.querySelector(e):null}static createElem(e,t={},r=""){let s=document.createElement(e);for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&("innerText"===e?s.textContent=t[e]:s.setAttribute(e,t[e]));return r&&s.append(document.createTextNode(r)),s}static insertAfter(t,r){if("string"==typeof r){let t=e.createElem("div");t.innerHTML=r,r=t.firstChild}t.nextSibling?t.parentNode.insertBefore(r,t.nextSibling):t.parentNode.appendChild(r)}static insertBefore(t,r){if("string"==typeof r){let t=e.createElem("div");t.innerHTML=r,r=t.firstChild}t.parentNode.insertBefore(r,t)}static addClass(e,t){return e.classList.add(t),e}static removeClass(e,t){return e.classList.remove(t),e}static toggleClass(e,t){return e.classList.toggle(t),e}static hasClass(e,t){return e.classList.contains(t)}static isObject(e){return e&&"object"==typeof e&&!Array.isArray(e)}static deepMerge(t,...r){if(!r.length)return t;const s=r.shift();if(s)for(const r in s)e.isObject(s[r])?(t[r]||(t[r]={}),e.deepMerge(t[r],s[r])):t[r]=s[r];return e.deepMerge(t,...r)}static injectStylesheet(t,r=null){r=e.isEmpty(r)?"":r;let s=e.createElem("style");s.id=e.stylesheetId+r,s.textContent="",document.head.append(s);let n=s.sheet;for(let s in t)t.hasOwnProperty(s)&&e.compatInsertRule(n,s,e.buildRules(t[s]),r)}static buildRules(e){let t="";for(let[r,s]of Object.entries(e))r=r.replace(/([A-Z])/g,(e=>`-${e[0].toLowerCase()}`)),t+=`${r}:${s};`;return t}static compatInsertRule(t,r,s,n=null){n=e.isEmpty(n)?"":n;let a=r.replace(e.replaceRule.from,e.replaceRule.to+n);t.insertRule(a+"{"+s+"}",0)}static removeStylesheet(t=null){t=e.isEmpty(t)?"":t;let r=e.getElem("#"+e.stylesheetId+t);r&&r.parentNode.removeChild(r)}static isEmpty(e){return"number"!=typeof e&&(!e||"string"==typeof e&&0===e.length)}static createEvent(e,t=null){return new CustomEvent(e,{detail:t})}static dispatchEvent(t,r=null){document.dispatchEvent(e.createEvent(t,r))}static generateRandom(e=8){return Math.random().toString(36).substring(2,2+e)}static setLocalValue(e,t,r=!0){const s=window.location.pathname.split("/")[1];r&&(t=JSON.stringify(t)),window.localStorage.setItem(`${s}-${e}`,t)}static getLocalValue(t,r=!0){const s=window.location.pathname.split("/")[1];let n=window.localStorage.getItem(`${s}-${t}`);if(r)try{n=JSON.parse(n)}catch(t){e.reportError("Error while parsing stored json value: ",t)}return n}static removeLocalValue(e){const t=window.location.pathname.split("/")[1];window.localStorage.removeItem(`${t}-${e}`)}static setSessionValue(e,t,r=!0){r&&(t=JSON.stringify(t)),window.sessionStorage.setItem(e,t)}static getSessionValue(t,r=!0){let s=window.sessionStorage.getItem(t);if(r)try{s=JSON.parse(s)}catch(t){e.reportError("Error while parsing stored json value: ",t)}return s}static removeSessionValue(e){window.sessionStorage.removeItem(e)}static getUrlParameter(e,t=window.location.search){let r=new URLSearchParams(t).get(e);return null===r?null:decodeURIComponent(r)}static async doFetch(e){const{url:t,method:r="GET",headers:s={},body:n=null,beforeSend:a=null,success:o=null,error:l=null}=e;let i={method:r,mode:"cors",headers:s instanceof Headers?s:new Headers(s)};if(null!==n&&["PUT","POST","DELETE"].includes(r.toUpperCase())){let e=n;n instanceof FormData||(e=JSON.stringify(n),i.headers instanceof Headers||(i.headers=new Headers(i.headers)),i.headers.append("Content-Type","application/json")),i.body=e}let c=new Request(t,i);try{const e=await new Promise((e=>{a?.(),e(c)})),t=await fetch(e),r=await t.json();return o?.(r),r}catch(e){throw l?.(e),e}}static appendFormData(t,r=new FormData){const{data:s,parentKey:n=""}=t;if(null!==s&&"object"==typeof s)if(s instanceof Blob||s instanceof File){const e=n||"file";r.append(e,s)}else Object.keys(s).forEach((t=>{const a=s[t],o=n?`${n}[${t}]`:t;null!==a&&"object"==typeof a?e.appendFormData({data:a,parentKey:o},r):null!==a&&r.append(o,String(a))}));else null!==s&&r.append(n,s);return r}static encodeFormData(t,r=""){if(t instanceof FormData)return t;const s={data:t,parentKey:r};return e.appendFormData(s)}static async sendFormData(t){const{url:r,data:s,method:n="POST",success:a,errorCallback:o}=t,l={url:r,method:n,body:e.encodeFormData(s),success:e=>{a&&a(e)},error:e=>{o&&o(e)}};return e.doFetch(l).then((()=>!0)).catch((()=>!1))}static reportError(...e){console.error(...e)}static throwError(e){throw new Error(e)}}return Object.defineProperty(e,"version",{writable:!1,configurable:!0}),e}));
